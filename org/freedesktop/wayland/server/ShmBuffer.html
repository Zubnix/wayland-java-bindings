<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_20) on Tue Sep 23 23:04:20 CEST 2014 -->
<title>ShmBuffer (wayland-java-bindings 1.0.0-SNAPSHOT API)</title>
<meta name="date" content="2014-09-23">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ShmBuffer (wayland-java-bindings 1.0.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":9,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/freedesktop/wayland/server/Resource.html" title="class in org.freedesktop.wayland.server"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/freedesktop/wayland/server/WlBufferRequests.html" title="interface in org.freedesktop.wayland.server"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/freedesktop/wayland/server/ShmBuffer.html" target="_top">Frames</a></li>
<li><a href="ShmBuffer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.freedesktop.wayland.server</div>
<h2 title="Class ShmBuffer" class="title">Class ShmBuffer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.freedesktop.wayland.server.ShmBuffer</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../org/freedesktop/wayland/util/HasPointer.html" title="interface in org.freedesktop.wayland.util">HasPointer</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">ShmBuffer</span>
extends java.lang.Object
implements <a href="../../../../org/freedesktop/wayland/util/HasPointer.html" title="interface in org.freedesktop.wayland.util">HasPointer</a></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/freedesktop/wayland/server/ShmBuffer.html#ShmBuffer-org.freedesktop.wayland.server.Client-int-int-int-int-int-">ShmBuffer</a></span>(<a href="../../../../org/freedesktop/wayland/server/Client.html" title="class in org.freedesktop.wayland.server">Client</a>&nbsp;client,
         int&nbsp;id,
         int&nbsp;width,
         int&nbsp;height,
         int&nbsp;stride,
         int&nbsp;format)</code>
<div class="block">Create a new underlying WlBufferResource with the constructed ShmBuffer as it's implementation.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/freedesktop/wayland/server/ShmBuffer.html#ShmBuffer-long-">ShmBuffer</a></span>(long&nbsp;pointer)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/freedesktop/wayland/server/ShmBuffer.html#beginAccess--">beginAccess</a></span>()</code>
<div class="block">Mark that the given SHM buffer is about to be accessed</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/freedesktop/wayland/server/ShmBuffer.html#destroy--">destroy</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/freedesktop/wayland/server/ShmBuffer.html#endAccess--">endAccess</a></span>()</code>
<div class="block">Ends the access to a buffer started by <a href="../../../../org/freedesktop/wayland/server/ShmBuffer.html#beginAccess--"><code>beginAccess()</code></a>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/freedesktop/wayland/server/ShmBuffer.html#equals-java.lang.Object-">equals</a></span>(java.lang.Object&nbsp;o)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static <a href="../../../../org/freedesktop/wayland/server/ShmBuffer.html" title="class in org.freedesktop.wayland.server">ShmBuffer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/freedesktop/wayland/server/ShmBuffer.html#get-org.freedesktop.wayland.server.Resource-">get</a></span>(<a href="../../../../org/freedesktop/wayland/server/Resource.html" title="class in org.freedesktop.wayland.server">Resource</a>&lt;?&gt;&nbsp;resource)</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.nio.ByteBuffer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/freedesktop/wayland/server/ShmBuffer.html#getData--">getData</a></span>()</code>
<div class="block">/** Get a pointer to the memory for the SHM buffer</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/freedesktop/wayland/server/ShmBuffer.html#getDataAsPointer--">getDataAsPointer</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/freedesktop/wayland/server/ShmBuffer.html#getFormat--">getFormat</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/freedesktop/wayland/server/ShmBuffer.html#getHeight--">getHeight</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/freedesktop/wayland/server/ShmBuffer.html#getPointer--">getPointer</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/freedesktop/wayland/server/ShmBuffer.html#getStride--">getStride</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/freedesktop/wayland/server/ShmBuffer.html#getWidth--">getWidth</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/freedesktop/wayland/server/ShmBuffer.html#hashCode--">hashCode</a></span>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, finalize, getClass, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ShmBuffer-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ShmBuffer</h4>
<pre>protected&nbsp;ShmBuffer(long&nbsp;pointer)</pre>
</li>
</ul>
<a name="ShmBuffer-org.freedesktop.wayland.server.Client-int-int-int-int-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ShmBuffer</h4>
<pre>public&nbsp;ShmBuffer(<a href="../../../../org/freedesktop/wayland/server/Client.html" title="class in org.freedesktop.wayland.server">Client</a>&nbsp;client,
                 int&nbsp;id,
                 int&nbsp;width,
                 int&nbsp;height,
                 int&nbsp;stride,
                 int&nbsp;format)</pre>
<div class="block">Create a new underlying WlBufferResource with the constructed ShmBuffer as it's implementation.
 <p>
 <code>ShmBuffer</code> should never be stored in a compositor instead it should always be queried from a
 <code>WlBufferResource</code>. Listening for the resource's destruction can be done when the buffer
 resource is attached to a surface.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>client</code> - </dd>
<dd><code>id</code> - </dd>
<dd><code>width</code> - </dd>
<dd><code>height</code> - </dd>
<dd><code>stride</code> - </dd>
<dd><code>format</code> - </dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="get-org.freedesktop.wayland.server.Resource-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public static&nbsp;<a href="../../../../org/freedesktop/wayland/server/ShmBuffer.html" title="class in org.freedesktop.wayland.server">ShmBuffer</a>&nbsp;get(<a href="../../../../org/freedesktop/wayland/server/Resource.html" title="class in org.freedesktop.wayland.server">Resource</a>&lt;?&gt;&nbsp;resource)</pre>
</li>
</ul>
<a name="destroy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroy</h4>
<pre>public&nbsp;void&nbsp;destroy()</pre>
</li>
</ul>
<a name="getPointer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPointer</h4>
<pre>public&nbsp;long&nbsp;getPointer()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/freedesktop/wayland/util/HasPointer.html#getPointer--">getPointer</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/freedesktop/wayland/util/HasPointer.html" title="interface in org.freedesktop.wayland.util">HasPointer</a></code></dd>
</dl>
</li>
</ul>
<a name="beginAccess--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beginAccess</h4>
<pre>public&nbsp;void&nbsp;beginAccess()</pre>
<div class="block">Mark that the given SHM buffer is about to be accessed
 <p>
 An SHM buffer is a memory-mapped file given by the client.
 According to POSIX, reading from a memory-mapped region that
 extends off the end of the file will cause a SIGBUS signal to be
 generated. Normally this would cause the compositor to terminate.
 In order to make the compositor robust against clients that change
 the size of the underlying file or lie about its size, you should
 protect access to the buffer by calling this function before
 reading from the memory and call <a href="../../../../org/freedesktop/wayland/server/ShmBuffer.html#endAccess--"><code>endAccess()</code></a>
 afterwards. This will install a signal handler for SIGBUS which
 will prevent the compositor from crashing.
 <p>
 After calling this function the signal handler will remain
 installed for the lifetime of the compositor process. Note that
 this function will not work properly if the compositor is also
 installing its own handler for SIGBUS.
 <p>
 If a SIGBUS signal is received for an address within the range of
 the SHM pool of the given buffer then the client will be sent an
 error event when <a href="../../../../org/freedesktop/wayland/server/ShmBuffer.html#endAccess--"><code>endAccess()</code></a> is called. If the signal
 is for an address outside that range then the signal handler will
 reraise the signal which would will likely cause the compositor to
 terminate.
 <p>
 It is safe to nest calls to these functions as long as the nested
 calls are all accessing the same buffer. The number of calls to
 wl_shm_buffer_end_access must match the number of calls to
 <a href="../../../../org/freedesktop/wayland/server/ShmBuffer.html#beginAccess--"><code>beginAccess()</code></a>. These functions are thread-safe and it
 is allowed to simultaneously access different buffers or the same
 buffer from multiple threads.</div>
</li>
</ul>
<a name="endAccess--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endAccess</h4>
<pre>public&nbsp;void&nbsp;endAccess()</pre>
<div class="block">Ends the access to a buffer started by <a href="../../../../org/freedesktop/wayland/server/ShmBuffer.html#beginAccess--"><code>beginAccess()</code></a>.
 <p>
 This should be called after <a href="../../../../org/freedesktop/wayland/server/ShmBuffer.html#beginAccess--"><code>beginAccess()</code></a> once the
 buffer is no longer being accessed. If a SIGBUS signal was
 generated in-between these two calls then the resource for the
 given buffer will be sent an error.</div>
</li>
</ul>
<a name="getData--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getData</h4>
<pre>public&nbsp;java.nio.ByteBuffer&nbsp;getData()</pre>
<div class="block">/** Get a pointer to the memory for the SHM buffer
 <p>
 Returns a pointer which can be used to read the data contained in
 the given SHM buffer.
 <p
 As this buffer is memory-mapped, reading it from may generate
 SIGBUS signals. This can happen if the client claims that the
 buffer is larger than it is or if something truncates the
 underlying file. To prevent this signal from causing the compositor
 to crash you should call wl_shm_buffer_begin_access and
 wl_shm_buffer_end_access around code that reads from the memory.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a direct ByteBuffer.</dd>
</dl>
</li>
</ul>
<a name="getDataAsPointer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataAsPointer</h4>
<pre>public&nbsp;long&nbsp;getDataAsPointer()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/freedesktop/wayland/server/ShmBuffer.html#getData--"><code>getData()</code></a></dd>
</dl>
</li>
</ul>
<a name="getStride--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStride</h4>
<pre>public&nbsp;int&nbsp;getStride()</pre>
</li>
</ul>
<a name="getFormat--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFormat</h4>
<pre>public&nbsp;int&nbsp;getFormat()</pre>
</li>
</ul>
<a name="getWidth--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWidth</h4>
<pre>public&nbsp;int&nbsp;getWidth()</pre>
</li>
</ul>
<a name="getHeight--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHeight</h4>
<pre>public&nbsp;int&nbsp;getHeight()</pre>
</li>
</ul>
<a name="equals-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>equals</h4>
<pre>public&nbsp;boolean&nbsp;equals(java.lang.Object&nbsp;o)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>equals</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="hashCode--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>hashCode</h4>
<pre>public&nbsp;int&nbsp;hashCode()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>hashCode</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/freedesktop/wayland/server/Resource.html" title="class in org.freedesktop.wayland.server"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/freedesktop/wayland/server/WlBufferRequests.html" title="interface in org.freedesktop.wayland.server"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/freedesktop/wayland/server/ShmBuffer.html" target="_top">Frames</a></li>
<li><a href="ShmBuffer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
